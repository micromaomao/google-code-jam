<!DOCTYPE html><html><head><meta charset="utf8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="../commons/style.css"><script src="../commons/general.js" async></script><title>2020-qual Problem C - Mao's Google Code Jam practice files</title><link rel="stylesheet" href="../commons/hljs.css"></head><body><a class="toroot" href="..">Return to problem list</a><h1>2020-qual Problem C</h1><h2>Final solution</h2><div class="filehead"><div class="fnamecontain"><a class="fname" href="files/main.cc" target="_blank">main.cc</a>:</div><a class="download" href="files/main.cc" title="Download original" download="main.cc">save</a>&nbsp;&nbsp;&nbsp;<a class="openongithub" href="https://github.com/micromaomao/google-code-jam/blob/master/2020-qual/3/main.cc" target="_blank">open on GitHub</a></div><pre><code class="hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;iostream&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;vector&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;utility&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;algorithm&gt;</span></span>

<span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span>;

<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Activity</span> {</span>
	<span class="hljs-keyword">int</span> start;
	<span class="hljs-keyword">int</span> <span class="hljs-built_in">end</span>;
	<span class="hljs-keyword">char</span> assigned = <span class="hljs-string">'\0'</span>;
};

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span> <span class="hljs-keyword">const</span> *argv[])</span>
</span>{
	<span class="hljs-keyword">int</span> t;
	<span class="hljs-built_in">cin</span> &gt;&gt; t;
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; t; i ++) {
		<span class="hljs-keyword">int</span> nb_activities;
		<span class="hljs-built_in">cin</span> &gt;&gt; nb_activities;
		<span class="hljs-built_in">vector</span>&lt;Activity*&gt; activities;
		activities.reserve(nb_activities);
		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; nb_activities; i ++) {
			<span class="hljs-keyword">int</span> start, <span class="hljs-built_in">end</span>;
			<span class="hljs-built_in">cin</span> &gt;&gt; start &gt;&gt; <span class="hljs-built_in">end</span>;
			Activity* act = <span class="hljs-keyword">new</span> Activity{.start = start, .<span class="hljs-built_in">end</span> = <span class="hljs-built_in">end</span>};
			activities.push_back(act);
		}
		<span class="hljs-built_in">vector</span>&lt;Activity*&gt; sorted_activities = activities;
		sort(sorted_activities.<span class="hljs-built_in">begin</span>(), sorted_activities.<span class="hljs-built_in">end</span>(), [](Activity* &amp;a, Activity* &amp;b) {
			<span class="hljs-keyword">return</span> a-&gt;start &lt; b-&gt;start;
		});

		<span class="hljs-keyword">int</span> c_busy_until = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">int</span> j_busy_until = <span class="hljs-number">0</span>;

		<span class="hljs-keyword">bool</span> impossible = <span class="hljs-literal">false</span>;

		<span class="hljs-keyword">for</span> (Activity* &amp;act : sorted_activities) {
			<span class="hljs-keyword">int</span> start = act-&gt;start;
			<span class="hljs-keyword">if</span> (c_busy_until &lt;= start) {
				act-&gt;assigned = <span class="hljs-string">'C'</span>;
				c_busy_until = act-&gt;<span class="hljs-built_in">end</span>;
			} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (j_busy_until &lt;= start) {
				act-&gt;assigned = <span class="hljs-string">'J'</span>;
				j_busy_until = act-&gt;<span class="hljs-built_in">end</span>;
			} <span class="hljs-keyword">else</span> {
				impossible = <span class="hljs-literal">true</span>;
				<span class="hljs-keyword">break</span>;
			}
		}

		<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Case #"</span> &lt;&lt; i + <span class="hljs-number">1</span> &lt;&lt; <span class="hljs-string">": "</span>;
		<span class="hljs-keyword">if</span> (impossible) {
			<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"IMPOSSIBLE"</span> &lt;&lt; <span class="hljs-built_in">endl</span>;
		} <span class="hljs-keyword">else</span> {
			<span class="hljs-keyword">for</span> (Activity* &amp;act : activities) {
				<span class="hljs-built_in">cout</span> &lt;&lt; act-&gt;assigned;
				<span class="hljs-keyword">delete</span> act;
			}
			<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-built_in">endl</span>;
		}
	}
	<span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre></body></html>