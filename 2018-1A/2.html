<!DOCTYPE html><html><head><meta charset="utf8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="../commons/style.css"><script src="../commons/general.js" async></script><title>2018-1A Problem B - Mao's Google Code Jam practice files</title><link rel="stylesheet" href="../commons/hljs.css"></head><body><a class="toroot" href="..">Return to problem list</a><h1>2018-1A Problem B</h1><h2>Final solution</h2><div class="filehead"><div class="fnamecontain"><a class="fname" href="files/cmd.go" target="_blank">cmd.go</a>:</div><a class="download" href="files/cmd.go" title="Download original" download="cmd.go">save</a>&nbsp;&nbsp;&nbsp;<a class="openongithub" href="https://github.com/micromaomao/google-code-jam/blob/master/2018-1A/2/cmd.go" target="_blank">open on GitHub</a></div><pre><code class="hljs"><span class="hljs-comment">// package, import, etc...</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">start</span><span class="hljs-params">()</span></span> {
  <span class="hljs-comment">// read T, repeat test() T times...</span>
}

<span class="hljs-keyword">type</span> Cashier <span class="hljs-keyword">struct</span> {
	M <span class="hljs-keyword">int</span>
	S <span class="hljs-keyword">int</span>
	P <span class="hljs-keyword">int</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">test</span><span class="hljs-params">()</span></span> {
	<span class="hljs-keyword">var</span> R, B, C <span class="hljs-keyword">int</span>
	mustReadLineOfInts(&amp;R, &amp;B, &amp;C)
	cashiers := <span class="hljs-built_in">make</span>([]Cashier, <span class="hljs-number">0</span>, C)
	minimumP := <span class="hljs-number">-1</span>
	maxTime := <span class="hljs-number">0</span>
	<span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; C; i++ {
		<span class="hljs-keyword">var</span> M, S, P <span class="hljs-keyword">int</span>
		mustReadLineOfInts(&amp;M, &amp;S, &amp;P)
		cashiers = <span class="hljs-built_in">append</span>(cashiers, Cashier{M, S, P})
		<span class="hljs-keyword">if</span> minimumP == <span class="hljs-number">-1</span> {
			minimumP = P
		} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> minimumP &gt; P {
			minimumP = P
		}
		<span class="hljs-keyword">for</span> _, cashier := <span class="hljs-keyword">range</span> cashiers {
			thisMaxTime := cashier.P + cashier.S*cashier.M
			<span class="hljs-keyword">if</span> maxTime &lt; thisMaxTime {
				maxTime = thisMaxTime
			}
		}
	}
	tLeast := sort.Search(maxTime+<span class="hljs-number">1</span>, <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(t <span class="hljs-keyword">int</span>)</span> <span class="hljs-title">bool</span></span> { <span class="hljs-comment">// canFinishWithin t</span>
		<span class="hljs-keyword">if</span> t &lt; minimumP {
			<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
		}
		cashiersCanDo := <span class="hljs-built_in">make</span>([]<span class="hljs-keyword">int</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(cashiers))
		<span class="hljs-keyword">for</span> _, cashier := <span class="hljs-keyword">range</span> cashiers {
			<span class="hljs-keyword">if</span> t &lt; cashier.P {
				cashiersCanDo = <span class="hljs-built_in">append</span>(cashiersCanDo, <span class="hljs-number">0</span>)
				<span class="hljs-keyword">continue</span>
			}
			canDo := (t - cashier.P) / cashier.S
			<span class="hljs-keyword">if</span> canDo &gt; cashier.M {
				canDo = cashier.M
			}
			cashiersCanDo = <span class="hljs-built_in">append</span>(cashiersCanDo, canDo)
		}
		sort.Ints(cashiersCanDo)
		sumCanDos := <span class="hljs-number">0</span>
		<span class="hljs-keyword">for</span> useNCashiers := <span class="hljs-number">1</span>; useNCashiers &lt;= <span class="hljs-built_in">len</span>(cashiers) &amp;&amp; useNCashiers &lt;= R; useNCashiers++ {
			sumCanDos += cashiersCanDo[<span class="hljs-built_in">len</span>(cashiersCanDo)-useNCashiers]
			<span class="hljs-keyword">if</span> sumCanDos &gt;= B {
				<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>
			}
		}
		<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>
	})
	stdout.WriteString(fmt.Sprintf(<span class="hljs-string">"%d\n"</span>, tLeast))
}

<span class="hljs-comment">// boilerplate omitted...</span></code></pre><h2>Sample test cases given in question</h2><div class="filehead"><div class="fnamecontain"><a class="fname" href="files/sample.in" target="_blank">sample.in</a>:</div><a class="download" href="files/sample.in" title="Download original" download="sample.in">save</a>&nbsp;&nbsp;&nbsp;<a class="openongithub" href="https://github.com/micromaomao/google-code-jam/blob/master/2018-1A/2/sample.in" target="_blank">open on GitHub</a></div><pre><code class="hljs">3
2 2 2
1 2 3
1 1 2
2 2 2
1 2 3
2 1 2
3 4 5
2 3 3
2 1 5
2 4 2
2 2 4
2 5 1
</code></pre><h2>Other files</h2><div class="filehead"><div class="fnamecontain"><a class="fname" href="files/sketch.in" target="_blank">sketch.in</a>:</div><a class="download" href="files/sketch.in" title="Download original" download="sketch.in">save</a>&nbsp;&nbsp;&nbsp;<a class="openongithub" href="https://github.com/micromaomao/google-code-jam/blob/master/2018-1A/2/sketch.in" target="_blank">open on GitHub</a></div><pre><code class="hljs">2
1 1 1
100 1 1
3 7 3
3 2 20
3 5 6
4 8 1
</code></pre></body></html>